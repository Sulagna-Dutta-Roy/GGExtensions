for(var allButton=document.querySelectorAll("button"),allHrefs=document.querySelectorAll("a"),i=0;i<allHrefs;i++)for(var c=0;c<allButton;c++)var A=allHrefs[i],B=allButton[i];for(var button=document.querySelectorAll("button"),i=0;i<button.length;i++){var buttons=button[i];buttons.className=buttons.className+"",buttons.classList.add("out"),$(buttons).hover(function(){$(this).removeClass("out").addClass("over")},function(){$(this).removeClass("over").addClass("out")})}for(var a=document.querySelectorAll("a"),i=0;i<a.length;i++)aEl=a[i],aEl.onmousedown=function(e){e.preventDefault()};var newPointerDown=new PointerEvent("pointerdown"),newPointerUp=new PointerEvent("pointerup");function mouseUp(){cancelAnimationFrame(animate)}function mouseRightUp(){cancelAnimationFrame(animate2)}function mouseLeftUp(){cancelAnimationFrame(animate3)}function mouseReverseUp(){cancelAnimationFrame(animate4)}document.querySelector("#arrowleft").addEventListener("pointerdown",function(e){let t=window.getComputedStyle(this).getPropertyValue("width");var n=e.target.getBoundingClientRect(),o=e.clientX-n.left,e=e.clientY-n.top,n=Math.floor(t/2),n=t.substr(0,n);o>t||o<=n||(this.querySelector("#l-").style.position="relative",this.querySelector("#l-").style.left=o+"%",this.querySelector("#l-").style.top=e-e-e+"%")}),document.querySelector("#arrowleft").onmouseup=function(){this.querySelector("#l-").style=""},document.querySelector("#arrowright").addEventListener("pointerdown",function(e){let t=window.getComputedStyle(this).getPropertyValue("width");var n=e.target.getBoundingClientRect(),o=e.clientX-n.left,e=e.clientY-n.top,n=Math.floor(t/2),n=t.substr(0,n);o>t||o<=n||(this.querySelector("#r-").style.position="relative",this.querySelector("#r-").style.left=o+"%",this.querySelector("#r-").style.top=e-e-e+"%")}),document.querySelector("#arrowright").onmouseup=function(){this.querySelector("#r-").style=""},window.onload=function(){var e=document.getElementById("canvas").getContext("2d");e.beginPath(),e.rect(x,y,65,110),e.rect(x+58,y+5,10,30),e.rect(x+58,y+75,10,30),e.rect(x-3,y+5,10,30),e.rect(x-3,y+75,10,30),e.fill()},document.querySelector(".buttonDrive").addEventListener("mousedown",mouseDown),document.querySelector(".buttonDrive").addEventListener("mouseup",mouseUp),document.querySelector(".buttonReverse").addEventListener("mousedown",mouseReverseDown),document.querySelector(".buttonReverse").addEventListener("mouseup",mouseReverseUp),document.querySelector("#arrowright").addEventListener("mousedown",mouseRightDown),document.querySelector("#arrowright").addEventListener("mouseup",mouseRightUp),document.querySelector("#arrowleft").addEventListener("mousedown",mouseLeftDown),document.querySelector("#arrowleft").addEventListener("mouseup",mouseLeftUp),document.querySelector(".buttonDrive").addEventListener("mouseout",mouseUp),document.querySelector(".buttonReverse").addEventListener("mouseout",mouseReverseUp),document.querySelector("#arrowright").addEventListener("mouseout",mouseRightUp),document.querySelector("#arrowleft").addEventListener("mouseout",mouseLeftUp);var canvas,animate,animate2,animate3,animate4,alerted=!1;function parkingLot(e){ctx.fillRect(0,0,canvas.width,10),ctx.fillRect(0,canvas.height-canvas.height+10,10,140),ctx.fillRect(90,canvas.height-canvas.height+10,10,140),ctx.fillRect(180,canvas.height-canvas.height+10,10,140),ctx.fillStyle="#333",ctx.fillRect(270,canvas.height-canvas.height+10,10,20),ctx.fillRect(270,canvas.height-canvas.height+40,10,20),ctx.fillRect(270,canvas.height-canvas.height+70,10,20),ctx.fillRect(270,canvas.height-canvas.height+100,10,20),ctx.fillRect(270,canvas.height-canvas.height+130,10,20),ctx.fillRect(360,canvas.height-canvas.height+10,10,20),ctx.fillRect(360,canvas.height-canvas.height+40,10,20),ctx.fillRect(360,canvas.height-canvas.height+70,10,20),ctx.fillRect(360,canvas.height-canvas.height+70,10,20),ctx.fillRect(360,canvas.height-canvas.height+100,10,20),ctx.fillRect(360,canvas.height-canvas.height+130,10,20),ctx.fillStyle="#000",ctx.fillRect(450,canvas.height-canvas.height+10,10,140),ctx.fillRect(540,canvas.height-canvas.height+10,10,140)}function parkDetector(){var e=["Good","Good job!","Nice!","Awesome!","Keep it up!"],t=e[Math.floor(Math.random()*e.length)];(e=document.createElement("div")).innerHTML='<span style="color:#444;">Try <span style="color:#DB4437;text-decoration:underline;">parking again</span> or <span style="color:#DB4437;text-decoration:underline;">get closer</span> to the spot.',270<=x&&x<=360&&y<32.5?(swal({icon:"success",title:t,text:"You parked! Click Next to continue.",button:"Next",closeOnClickOutside:!0,closeOnEnterKey:!0}).then(function(){location.replace("/lvl3.html")}),setInterval(function(){document.querySelector(".swal-button").style.backgroundColor="#6cc22e"},100)):swal({icon:"error",title:"You didn't park",content:e}).then(function(){swal.close()}),document.querySelector(".swal-button").style.backgroundColor="#DB4437"}function triggered(){return x<=0||x>canvas.width||x>canvas.width-55||y>canvas.height-110||y<=0||y<0||y<canvas.height-canvas.height}function mouseDown(e){ctx.clearRect(0,0,canvas.width,canvas.height),ctx.beginPath(),ctx.rect(x,y,65,110),ctx.rect(x+58,y+5,10,30),ctx.rect(x+58,y+75,10,30),ctx.rect(x-3,y+5,10,30),ctx.rect(x-3,y+75,10,30),ctx.fillStyle="#000000",ctx.fill(),y+=-5,animate=requestAnimationFrame(mouseDown),triggered()&&GameOver(),parkingLot()}function mouseRightDown(e){ctx.clearRect(0,0,canvas.width,canvas.height),ctx.beginPath(),ctx.rect(x-40,y,110,65),ctx.rect(x-35,y+58,30,10),ctx.rect(x+32.5,y+58,30,10),ctx.rect(x-35,y-3,30,10),ctx.rect(x+32.5,y-3,30,10),ctx.fillStyle="#000000",ctx.fill(),x+=1.5,y+=-.3,triggered()&&GameOver(),animate2=requestAnimationFrame(mouseRightDown),parkingLot()}function mouseLeftDown(e){ctx.clearRect(0,0,canvas.width,canvas.height),ctx.beginPath(),ctx.rect(x,y,110,65),ctx.rect(x+5,y+58,30,10),ctx.rect(x+75,y+58,30,10),ctx.rect(x+5,y-3,30,10),ctx.rect(x+75,y-3,30,10),ctx.fillStyle="#000000",ctx.fill(),x+=-1.5,y+=-.3,triggered()&&GameOver(),animate3=requestAnimationFrame(mouseLeftDown),parkingLot()}function mouseReverseDown(e){ctx.clearRect(0,0,canvas.width,canvas.height),ctx.beginPath(),ctx.rect(x,y,65,110),ctx.rect(x+58,y+5,10,30),ctx.rect(x+58,y+75,10,30),ctx.rect(x-3,y+5,10,30),ctx.rect(x-3,y+75,10,30),ctx.fillStyle="#000000",ctx.fill(),triggered()&&GameOver(),y+=4,triggered()&&GameOver(),animate4=requestAnimationFrame(mouseReverseDown),parkingLot()}function detectEnterKey(){window.onkeyup=function(e){"Enter"===e.key&&(parkDetector(),window.onkeyup=function(e){if("Enter"===e.key)return setTimeout(detectEnterKey,100),!1})}}function GameOver(){swal({icon:"https://user-images.githubusercontent.com/88283567/133125808-dc7f4b5b-f810-4132-b1bf-b65b1b640001.png",title:"Game Over",text:"You crashed!",button:"Close",closeOnEsc:!1,closeOnClickOutside:!1}).then(function(){top.location.replace("/?pts=2&k=6150645367556B58703273357638792F423F4528482B4D6251655468576D597133743677397A24432646294A404E635266556A586E327234753778214125442A&s=FcHeMhPkRpUrWtZw3y5B8DaGdJfMjQmSpVs")}),document.querySelector(".swal-button").style.backgroundColor="#222",document.querySelector(".swal-icon").style.width="20%"}detectEnterKey(),window.addEventListener("keydown",function(e){var t=!1;if(e.preventDefault(),"ArrowUp"===e.key&&!1===t)return t=!0,mouseUp(),mouseDown(),!1}),window.addEventListener("keyup",function(e){return e.preventDefault(),mouseUp(),!1}),window.addEventListener("keydown",function(e){var t=!1;e.preventDefault(),"ArrowLeft"===e.key&&!1===t&&(t=!0,mouseLeftUp(),mouseLeftDown()),window.addEventListener("keyup",function(e){return e.preventDefault(),mouseLeftUp(),!1})}),window.addEventListener("keydown",function(e){var t=!1;e.preventDefault(),"ArrowRight"===e.key&&!1===t&&(t=!0,mouseRightUp(),mouseRightDown()),window.addEventListener("keyup",function(e){return e.preventDefault(),mouseRightUp(),!1})}),window.addEventListener("keydown",function(e){var t=!1;e.preventDefault(),"ArrowDown"===e.key&&!1===t&&(t=!0,mouseReverseUp(),mouseReverseDown()),window.addEventListener("keyup",function(e){return e.preventDefault(),mouseReverseUp(),!1})}),canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),last=performance.now(),x=canvas.width-canvas.width/2-200,y=canvas.height-160,parkingLot();
